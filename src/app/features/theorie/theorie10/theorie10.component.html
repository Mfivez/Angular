<div class="page-wrapper">
    <section class="hero-section">
        <h1>Th√©orie - Services & Injection</h1>
        <button class="cta-button" (click)="nav.navigate('/theorie/9')"> ‚èÆÔ∏è</button>
      <button class="cta-button" (click)="nav.navigate('/theorie/11')">‚è≠Ô∏è</button>
    </section>

    <section class="content-section">

        <div class="concept">
            <h2>Qu'est-ce qu'un Service en Angular ?</h2>
            <p>
                Un <strong>service</strong> en Angular est une classe qui contient des m√©thodes r√©utilisables que plusieurs composants peuvent appeler. 
                Un service permet de <strong>centraliser la logique m√©tier</strong> (t√¢ches telles que les appels HTTP, la gestion de donn√©es, etc.) 
                en dehors des composants pour respecter le principe de <strong>s√©paration des pr√©occupations</strong>.
            </p>
            <p><strong>Exemple :</strong> r√©cup√©rer des donn√©es d'une API, stocker des informations partag√©es entre composants.</p>
        </div>

        <div class="concept">
            <h2>Pourquoi utiliser des Services ?</h2>
            <p>
                Les services offrent de nombreux avantages :
            </p>
            <ul>
                <li>
                    <p><strong>R√©utilisation du code :</strong> Un service permet d'√©viter la duplication du code dans plusieurs composants.</p>
                </li>

                <li>
                    <p><strong>Organisation :</strong>  La logique m√©tier est s√©par√©e des composants, facilitant ainsi la maintenance et la lisibilit√© du code.</p>
                </li>

                <li>
                    <p><strong>Centralisation des donn√©es :</strong> Un service peut contenir et g√©rer des informations partag√©es par plusieurs composants.</p>
                </li>
            </ul>
        </div>

        
        <div class="concept">
            <h2>Qu'est-ce que l'Injection de D√©pendances (DI) ?</h2>

            <p>L'<strong>Injection de D√©pendances</strong> est un <strong>design pattern</strong> qui consiste √† fournir une d√©pendance (comme un service) √† une classe plut√¥t que de la laisser cr√©er elle-m√™me cette d√©pendance.</p>

            <p>Angular a un <strong>syst√®me int√©gr√© d'injection de d√©pendances</strong>, qui permet de fournir automatiquement les services dont les composants ou d'autres services ont besoin.</p>
            <p>
                Par exemple, au lieu qu'un composant cr√©e une instance d'un service lui-m√™me, Angular l'injecte automatiquement :
            </p>
            <img [src]="serviceConstructorUrl">
        </div>

        <div class="concept">
            <h2>Cr√©er et Utiliser un Service en Angular</h2>
            <h3>1. Cr√©ation d'un Service</h3>
            <p>
                Pour cr√©er un service, Angular CLI offre une commande simple :
            </p>
            <pre><code>ng generate service nom-du-service</code></pre>
            <p>
                Cela cr√©e une classe TypeScript marqu√©e par le d√©corateur <code>&#64;Injectable()</code>. 
                Ce d√©corateur informe Angular que cette classe peut √™tre inject√©e dans d'autres classes.
            </p>
            <img [src]="dataServiceUrl">
            <p>
                La propri√©t√© <code>providedIn: 'root'</code> indique que le service est disponible au niveau global 
                (dans toute l'application). Cela signifie que n'importe quel composant peut y avoir acc√®s.
            </p>
            
            <hr>

            <h3>2. Injection d'un Service dans un Composant</h3>
            <p>
                Pour utiliser un service dans un composant, vous devez l'injecter via le constructeur du composant. 
                Angular se charge de fournir automatiquement le service via son syst√®me d'injection de d√©pendances.
            </p>
            <img [src]="componentJsUrl">
            <p>Dans cet exemple, le service <code>MyService</code> est inject√© dans le constructeur du composant <code>AppComponent</code>. La m√©thode <code>getData()</code> du service est appel√©e pour r√©cup√©rer 
                des donn√©es, qui sont ensuite stock√©es dans la propri√©t√© <code>data</code> du composant.
            </p>
        </div>

        <div class="concept">
            <h2>Port√©e d'un Service : Local vs Global</h2>
            <p>
                La port√©e d'un service d√©termine o√π il peut √™tre utilis√© dans l'application.
            </p>
            <ul>
                <li>
                    <p><strong>Port√©e globale (providedIn: 'root')</strong> : Le service est disponible dans toute 
                    l'application, peu importe le composant.</p>
                </li>

                <li>
                    <p><strong>Port√©e locale</strong> : Si un service est ajout√© au tableau 
                    <code>providers</code> d'un module ou d'un composant, il sera disponible uniquement pour 
                    ce module ou ce composant.</p>
                </li>
            </ul>
            <hr>
            <h3>Exemple :</h3>
            <img [src]="localServiceUrl">
        </div>

        <button class="cta-button" (click)="nav.navigate('/demos/10')">üü™D√©monstrationüü™</button>
        
    </section>
</div>